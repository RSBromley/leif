name: Push block to Contensis
on:
  workflow_call:
    inputs:
      block-id:
        required: true
        type: string
      auto-release:
        default: true
        type: boolean
      alias:
        default: leif
        type: string
      project-id:
        default: website
        type: string

jobs:
  push-block:
    name: ${{ inputs.block-id }} [${{ inputs.project-id }}]
    runs-on: ubuntu-latest

    steps:
      - name: Push block to website on leif
        uses: contensis/block-push@v1
        with:
          block-id: ${{ inputs.block-id }}
          auto-release: ${{ inputs.auto-release }}
          alias: ${{ inputs.alias }}
          project-id: ${{ inputs.project-id }}
          client-id: ${{ secrets.CONTENSIS_CLIENT_ID }}
          shared-secret: ${{ secrets.CONTENSIS_SHARED_SECRET }}
